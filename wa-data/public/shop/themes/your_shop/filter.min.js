jQuery(document).ready(function(c){c(".slider-range").each(function(){var g=c(this);var h=g.parent();var f=h.find(".min");var e=h.find(".max");g.slider({range:true,min:parseFloat(f.attr("placeholder")),max:parseFloat(e.attr("placeholder")),step:(parseFloat(e.attr("placeholder"))-parseFloat(f.attr("placeholder")))<=5?0.1:1,values:[parseFloat(f.val().length?f.val():f.attr("placeholder")),parseFloat(e.val().length?e.val():e.attr("placeholder"))],slide:function(j,k){var i=k.values[0]==c(this).slider("option","min")?"":k.values[0];f.val(i?i:"");i=k.values[1]==c(this).slider("option","max")?"":k.values[1];e.val(i?i:"")},stop:function(i,j){f.change()}});f.add(e).change(function(){var j=parseFloat(f.val())||g.slider("option","min");var i=parseFloat(e.val())||g.slider("option","max");if(i>=j){g.slider("option","values",[j,i])}})});var d=[];var a=function(k){c(window).lazyLoad&&c(window).lazyLoad("sleep");c(d).each(function(f,n){n.abort();d.splice(f,1)});if(!k.hasClass("filter-delete")){var h=k.next("label");if(k.hasClass("f-price")){h=k.closest(".price-inputs")}else{if(k.hasClass("hidden")){h=k.closest(".filter-field")}}h.find(".loading").remove();h.append("<i class='icon16 loading'></i>")}else{k.html("<i class='icon16 loading'></i>");k.siblings("input").remove()}var l=k.closest("form");var e=l.serializeArray();var m=[];for(var j=0;j<e.length;j++){if(e[j].value!==""){m.push(e[j].name+"="+e[j].value)}}var g="?"+m.join("&");c.ajax({type:"get",url:g,cache:false,beforeSend:function(f){d.push(f)},success:function(i){if(k.hasClass("filter-delete")){k.closest(".filter-field").remove()}else{h.find(".loading").remove()}c(".bottom-paging").hide();var n=c(i).find("#product-list .product-list").children();if(n.length){c(".sort-view").show();c("#product-list .product-list").html(n);var f=c(i).find(".bottom-paging");if(!c(".bottom-paging").length&&f.length){c("#product-list .product-list").after(f.prop("outerHTML"))}else{if(f.length){c(".bottom-paging").html(f.html()).show()}}c(".found-info").html(c(i).find(".found-info").html()).show();if(c(i).find(".lazyloading-paging").length){c(".lazyloading-paging").html(c(i).find(".lazyloading-paging").html())}else{c(".lazyloading-paging").html("")}if(!!(history.pushState&&history.state!==undefined)){window.history.pushState({},"",g)}c(window).lazyLoad&&c(window).lazyLoad("reload")}else{c("#product-list .product-list").empty().append("<li>"+c(i).find("#product-list").html()+"</li>");c(".sort-view, .found-info").hide()}},error:function(){if(k.hasClass("filter-delete")){k.html("X")}else{h.find(".loading").remove()}}})};c(".filters.ajax form input").change(function(){a(c(this))});c(".filter-field").each(function(f,e){var g=c(this);if(!g.hasClass("checked")){g.find("input").prop("checked",false)}else{g.find("input").prop("checked",true)}});c(".filter-select").change(function(){var e=c(this);if(e.val()!==""&&!c("#fil-"+e.data("fid")+"-"+e.val()).length){e.closest(".filter-value").append("<div class='filter-field' id='fil-"+e.data("fid")+"-"+e.val()+"'><input type='hidden' class='hidden' name='"+e.data("code")+"[]' value='"+e.val()+"' />"+e.find(":selected").html()+" <a href='javascript:void(0)' class='filter-delete' title='"+c.yourshop.translate("delete")+"'>X</a></div>");c("#fil-"+e.data("fid")+"-"+e.val()+" input").change();a(c("#fil-"+e.data("fid")+"-"+e.val()+" input"))}e.prop("selectedIndex",0);return false});c(".filter-select").prop("selectedIndex",0);c(document).on("click",".filter-delete",function(){c(this).parent().find("input").attr("disabled","disabled").change();a(c(this))});c(".filter-block > a").click(function(m){if(c(m.target).is("span.q")){return}var l=c(this);var h=l.find("i");var f=l.closest(".filter-block");var n=f.data("id");var j=c.cookie("product_filter");if(j){j=j.split(",")}else{j=[]}var g=c.inArray(n+"",j);if(g!=-1){j.splice(g,1)}if(h.hasClass("open")){h.removeClass("open fa-chevron-down").addClass("close fa-chevron-right");f.find(".filter-value").slideUp()}else{h.removeClass("close fa-chevron-right").addClass("open fa-chevron-down");f.find(".filter-value").slideDown();j.push(n)}c.cookie("product_filter",j.join(","),{expires:30,path:c.yourshop.shopUrl})});var b=c.cookie("product_filter");if(b){b=b.split(",")}else{b=[]}if(b){c.each(b,function(f,e){c(".filter-block[data-id='"+e+"']").addClass("open").find(".fa").removeClass("fa-chevron-right close").addClass("fa-chevron-down open")})}});